<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=8;IE=9;IE=10;IE=11;IE=Edge" />
    <script src="/static/js/jquery-3.1.1.js" type="text/javascript"></script>
    <title>home</title>
    <script type="text/javascript">
        function func() {
            return false;
        }
        function check() {
            var method = document.getElementById("method").value;
            var params = document.getElementById("params").value;
            var command = {
                "method":method,
                "params":params
            };
            $.ajax({
                    url:"/home",
                    type:"post",
                    contentType: "application/json; charset=utf-8",
                    dataType:"json",
                    data:JSON.stringify(command),
                    success:function (data) {
                        if (data!=""||data==0){
                            //alert("请求成功"+data);
                            //console.log(data);
                            object = JSON.parse(data);
                            objects = JSON.stringify(object,null,"\t");
                            //objects=object.replace(",","\n");
                            document.getElementById("content").innerHTML=objects;
                            //return false;
                        } else {
                            alert("请求失败")
                        }
                    },
                error: function (data) {
                    alert("错误");
                }
            });
        }
    </script>
</head>
<body>
<form action="" onsubmit="return func()">
    方法:<input id="method" type="text" name="method"><br/>
    参数:<input id="params" type="text" name="params"><br/>
    <button type="submit" id="submit" onclick="check()">提交</button>
</form>
<textarea id="content"></textarea>
</body>
</html>